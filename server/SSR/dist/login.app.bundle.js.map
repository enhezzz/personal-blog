{"version":3,"sources":["webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?7e22","webpack:///./src/views/Login.vue?c687","webpack:///./src/views/Login.vue?35c8","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e2da","webpack:///./src/views/Login.vue?0379","webpack:///./src/views/Login.vue?037f"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA,kBADA,4BACA,EADA,EACA,IADA,EACA,IADA,EACA;AACA,gBACA;AACA;AACA,kBACA;AACA,KAHA;AAIA,GARA;AASA;AACA,SADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA,wBAHA,GAGA,cAHA;AAIA;AACA;AALA;AAAA,uBAMA;AAAA;AAAA;AAAA;AAAA,mBACA,IADA,CACA;AACA;;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AAEA,iBATA,CANA;;AAAA;AAMA,mBANA;AAgBA;;AACA;AACA;AACA;AACA,iBAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,iBAFA,EAEA,IAFA;;AA9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,GATA;AA4CA;AACA;AACA,iBADA;AAEA,kBAFA;AAGA;AAHA;AAKA,GAlDA;AAmDA;AACA,WADA,qBACA;AACA;AACA;AAHA;AAnDA,G;;;;;;;;;;;AC7BA,2BAA2B,mBAAO,CAAC,oIAAiE;AACpG;;;AAGA;AACA,cAAc,QAAS,6BAA6B,0BAA0B,kCAAkC,+BAA+B,mBAAmB,2BAA2B,oEAAoE,2BAA2B,mBAAmB,2BAA2B,kCAAkC,+BAA+B,6CAA6C,yBAAyB,8BAA8B;;AAE/e;;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,+CAA+C;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3BA;;AAEA;AACA,cAAc,mBAAO,CAAC,kiBAAmS;AACzT,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,0KAAqF;AACvG;AACA;AACA,E;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAgG;AACvC;AACL;AACpD;;AAEA,eAAe,mBAAO,CAAC,4JAAsE;AAC7F;;AAEA;;AAEA;AAC6G;AAC7G,gBAAgB,6HAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACe,gF;;;;;;;;;;;;ACxBf;AAAA;AAAA,wCAA4M,CAAgB,8QAAG,EAAC,C;;;;;;;;;;;;ACAhO;AAAA;AAAA;AAAA;AAAyX,CAAgB,4aAAG,EAAC,C;;;;;;;;;;;;ACA7Y;AAAA;AAAA;AAAA;AAAA;AAAA","file":"login.app.bundle.js","sourcesContent":["<template>\r\n    <div class=\"login row animated zoomInDown\">\r\n        <div class=\"col-5\">\r\n            <div class=\"login-header\">\r\n                <h3 class=\"animated tada infinited\">login...</h3>\r\n            </div>\r\n            <div class=\"login-body\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"account\">Account</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"账号\" id=\"account\" name=\"account\" v-model=\"account\">\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"password\">Password</label>\r\n                    <input type=\"password\" class=\"form-control\" placeholder=\"密码\" id=\"password\" name=\"password\" v-model=\"password\">\r\n                </div>\r\n                <button type=\"submit\" class=\"btn btn-primary\" @click=\"login\">login</button>\r\n            </div>\r\n        </div>\r\n        <div class=\"alert alert-success\" role=\"alert\" :class=\"{show:toLogin&&isLogin,fadeOutUp:toLogin&&isLogin,animated:toLogin&&isLogin}\">\r\n            登陆成功！\r\n        </div>\r\n        <div class=\"alert alert-danger\" role=\"alert\" :class=\"{show:toLogin&&!isLogin,fadeOutUp:toLogin&&!isLogin,animated:toLogin&&!isLogin}\">\r\n            账号或密码错误！\r\n        </div>\r\n    </div>\r\n    \r\n</template>\r\n<script>\r\nimport NProgress from 'nprogress'\r\nexport default {\r\n    beforeRouteEnter (to, from, next) {\r\n        if(window)\r\n        NProgress.start()\r\n        next(vm => {\r\n            if(window)\r\n            NProgress.done()\r\n        })\r\n    },\r\n    methods: {\r\n        async login(){\r\n            this.$store.commit('toggleLoading');\r\n            let formData = new FormData();\r\n            formData.append('account',this.account);\r\n            formData.append('password',this.password);\r\n            let res = await fetch('/login',{method: 'POST',body: formData,credentials: 'include'})\r\n            .then(response=> {\r\n                let status = response.status;\r\n                if(status == 501){\r\n                    return new Error('info err')\r\n                }else{\r\n                    return response.json();\r\n                }\r\n                \r\n            });\r\n            console.log(res)\r\n            if(res instanceof Error){\r\n                // alert('账号或密码错误');\r\n                this.$store.commit('toggleLoginState',false);\r\n            }else{\r\n            this.$store.commit('updateAuthorizedCode',res.code);\r\n            this.$store.commit('setUsername',res.username);\r\n            this.$store.commit('setAccount',res.account);\r\n            this.$store.commit('setPhone',res.phone);\r\n            this.$store.commit('toggleLoginState',true);\r\n            this.$router.push('/');\r\n            }\r\n            this.$store.commit('toggleLoading');\r\n            this.toLogin = true;\r\n            setTimeout(()=>{\r\n                this.toLogin = false\r\n            },2000);\r\n        }\r\n    },\r\n    data: function(){\r\n        return {\r\n            account: '',\r\n            password: '',\r\n            toLogin: false\r\n        }\r\n    },\r\n    computed: {\r\n        isLogin(){\r\n            return this.$store.state.isLogin\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.login{\r\n    margin-top: 200px;\r\n    justify-content: center\r\n}\r\n/* .login>.login-header>h3{\r\n    width: 66%;\r\n    margin: 0 auto\r\n} */\r\n.alert-success,.alert-danger{\r\n    position: absolute;\r\n    top: 198px;\r\n    visibility: hidden;\r\n    animation-fill-mode: both;\r\n    animation-duration: 2s;\r\n    animation-timing-function: ease-in\r\n}\r\n.show{\r\n    visibility: visible\r\n}\r\n</style>\r\n","exports = module.exports = require(\"../../node_modules/_css-loader@1.0.1@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.login[data-v-26084dc2]{\\r\\n    margin-top: 200px;\\r\\n    justify-content: center\\n}\\r\\n/* .login>.login-header>h3{\\r\\n    width: 66%;\\r\\n    margin: 0 auto\\r\\n} */\\n.alert-success[data-v-26084dc2],.alert-danger[data-v-26084dc2]{\\r\\n    position: absolute;\\r\\n    top: 198px;\\r\\n    visibility: hidden;\\r\\n    animation-fill-mode: both;\\r\\n    animation-duration: 2s;\\r\\n    animation-timing-function: ease-in\\n}\\n.show[data-v-26084dc2]{\\r\\n    visibility: visible\\n}\\r\\n\", \"\"]);\n\n// exports\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"login row animated zoomInDown\" }, [\n    _vm._ssrNode(\n      '<div class=\"col-5\" data-v-26084dc2><div class=\"login-header\" data-v-26084dc2><h3 class=\"animated tada infinited\" data-v-26084dc2>login...</h3></div> <div class=\"login-body\" data-v-26084dc2><div class=\"form-group\" data-v-26084dc2><label for=\"account\" data-v-26084dc2>Account</label> <input type=\"text\" placeholder=\"账号\" id=\"account\" name=\"account\"' +\n        _vm._ssrAttr(\"value\", _vm.account) +\n        ' class=\"form-control\" data-v-26084dc2></div> <div class=\"form-group\" data-v-26084dc2><label for=\"password\" data-v-26084dc2>Password</label> <input type=\"password\" placeholder=\"密码\" id=\"password\" name=\"password\"' +\n        _vm._ssrAttr(\"value\", _vm.password) +\n        ' class=\"form-control\" data-v-26084dc2></div> <button type=\"submit\" class=\"btn btn-primary\" data-v-26084dc2>login</button></div></div> <div role=\"alert\"' +\n        _vm._ssrClass(\"alert alert-success\", {\n          show: _vm.toLogin && _vm.isLogin,\n          fadeOutUp: _vm.toLogin && _vm.isLogin,\n          animated: _vm.toLogin && _vm.isLogin\n        }) +\n        ' data-v-26084dc2>\\n        登陆成功！\\n    </div> <div role=\"alert\"' +\n        _vm._ssrClass(\"alert alert-danger\", {\n          show: _vm.toLogin && !_vm.isLogin,\n          fadeOutUp: _vm.toLogin && !_vm.isLogin,\n          animated: _vm.toLogin && !_vm.isLogin\n        }) +\n        \" data-v-26084dc2>\\n        账号或密码错误！\\n    </div>\"\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"7ef4ed76\", content, false, context)\n};","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=26084dc2&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"26084dc2\",\n  \"004eb098\"\n  \n)\n\ncomponent.options.__file = \"src/views/Login.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_vue-style-loader@4.1.2@vue-style-loader/index.js!../../node_modules/_css-loader@1.0.1@css-loader/index.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=css&\"","export * from \"-!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=template&id=26084dc2&scoped=true&\""],"sourceRoot":""}